// Tests imported from Dark language test suite
// Source: https://raw.githubusercontent.com/darklang/dark/main/backend/testfiles/execution/language/basic/eand.dark
//
// ALL TESTS INCLUDED - no filtering or removal
// Tests may fail if features are not yet implemented

// ===================================================================
// Basic AND operations (from Dark eand.dark)
// ===================================================================

(true && true) = true
(true && false) = false
(false && true) = false
(false && false) = false

// ===================================================================
// Type error tests - compiler should reject these
// ===================================================================

// Type error - wrong type for second operand
(true && 5) = error="Type mismatch in integer literal: expected Bool, got Int64"

// Type error - wrong type for first operand
(5 && true) = error="Type mismatch in integer literal: expected Bool, got Int64"

// ===================================================================
// Pipe operator with AND
// ===================================================================

(true |> (&&) true) = true
(true |> (&&) false) = false
(false |> (&&) true) = false
(false |> (&&) false) = false

// ===================================================================
// Additional tests (from our extended suite)
// ===================================================================

// Short-circuit Evaluation
let x = false in (x && true) = false
let x = false in (x && false) = false
let x = true in (x && true) = true
let x = true in (x && false) = false

// Nested AND Expressions
(true && true && true) = true
(true && true && false) = false
(true && false && true) = false
(false && true && true) = false

// AND with Comparisons
(1 == 1 && 2 == 2) = true
(1 == 1 && 1 == 2) = false
(1 == 2 && 2 == 2) = false
(1 == 2 && 3 == 4) = false

// Less than with AND
(1 < 2 && 2 < 3) = true
(1 < 2 && 3 < 2) = false
(2 < 1 && 2 < 3) = false

// Greater than with AND
(2 > 1 && 3 > 2) = true
(2 > 1 && 2 > 3) = false

// Mixed comparisons
(1 < 2 && 2 > 1) = true
(5 >= 5 && 5 <= 5) = true

// AND with Let Bindings
let a = true in let b = true in (a && b) = true
let a = true in let b = false in (a && b) = false
let a = false in let b = true in (a && b) = false
let a = false in let b = false in (a && b) = false

// AND result stored in variable
let result = (true && true) in result = true
let result = (true && false) in result = false

// AND in Control Flow
if true && true then 1 else 0 = 1
if true && false then 1 else 0 = 0
if false && true then 1 else 0 = 0
if false && false then 1 else 0 = 0

// Nested conditions with AND
if (1 < 2) && (2 < 3) then 42 else 0 = 42
if (5 > 3) && (10 > 1) then 100 else 0 = 100

// Complex AND Expressions
let x = 5 in (x > 0 && x < 10 && x != 3) = true
let x = 5 in (x > 0 && x < 10 && x == 3) = false

// Parenthesized expressions
((true && true) && true) = true
(true && (true && true)) = true
((true && false) && true) = false
(true && (false && true)) = false

// AND with Arithmetic Results
((1 + 1) == 2 && (2 + 2) == 4) = true
((1 + 1) == 3 && (2 + 2) == 4) = false
((5 * 2) == 10 && (10 / 2) == 5) = true

// Double negation with AND
(!!true && !!true) = true
(!!true && !!false) = false
(!false && !false) = true
(!true && !false) = false
