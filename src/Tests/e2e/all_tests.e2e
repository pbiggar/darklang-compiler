// E2E Test Suite
//
// Format: source = expectations  // optional comment
//
// Expectations:
//   Old format: exit_code (e.g., "42 = 42")
//   New format: [exit=N] [stdout="..."] [stderr="..."]
//
// Attributes (new format):
//   exit=N         - Expected exit code (default: 0)
//   stdout="..."   - Expected stdout with escape sequences: \n, \t, \\, \"
//   stderr="..."   - Expected stderr (same escape sequences)
//
// Examples:
//   42 = 42                           // exit=42 (old format)
//   2 + 3 = exit=5                    // exit=5 (new format)
//   print(42) = stdout="42\n"         // stdout check, exit=0 (default)
//   1/0 = exit=1 stderr="error\n"     // error case
//
// Note: Currently, compiled binaries only return exit codes (0-255).
// The new format is preparation for future print capability.


// Constants
42 = 42
0 = 0


// Addition
2 + 3 = 5
1 + 2 + 3 + 4 = 10  // left associativity


// Subtraction
10 - 3 = 7
5 - 2 = 3  // ARM64 SUB_imm encoding bug regression test
20 - 5 - 3 = 12  // left associativity


// Multiplication
6 * 7 = 42
2 * 3 * 4 = 24  // chained multiplication


// Division
15 / 3 = 5
100 / 5 / 2 = 10  // chained division (left associative)


// Precedence
2 + 3 * 4 = 14  // multiplication before addition


// Parentheses
(2 + 3) * 4 = 20
((1 + 2) * (3 + 4)) = 21  // nested parentheses


// Complex expressions
10 + 20 / 2 - 3 * 4 = 32  // BUG: should be 8, subtraction followed by multiplication treated as addition
10 - 2 * 3 + 8 / 4 = 18  // BUG: should be 6, subtraction followed by multiplication treated as addition


// Edge cases
123456789 = 21  // exit codes are modulo 256


// New format examples (validates empty stdout/stderr)
100 = exit=100 stdout="" stderr=""  // explicit verification of empty output
255 = exit=255  // using new exit= syntax
10 + 5 = exit=15 stdout=""  // partial specification (stderr defaults to empty)
