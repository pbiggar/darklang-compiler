// E2E Test Suite
//
// Format: source = expectations  // optional comment
//
// Expectations:
//   Simple format: value (e.g., "42 = 42")
//     - Interprets as: stdout="42\n", exit=0
//     - Verifies the printed output (binaries exit with 0 on success)
//   Explicit format: [exit=N] [stdout="..."] [stderr="..."]
//     - For error cases or when you need non-zero exit codes
//
// Attributes (explicit format):
//   exit=N         - Expected exit code (default: 0)
//   stdout="..."   - Expected stdout with escape sequences: \n, \t, \\, \"
//   stderr="..."   - Expected stderr (same escape sequences)
//
// Examples:
//   42 = 42                           // stdout="42\n", exit=0 (simple format)
//   2 + 3 = 5                         // stdout="5\n", exit=0 (simple format)
//   42 = stdout="42\n"                // explicit stdout (exit defaults to 0)
//   1/0 = exit=1 stderr="error\n"     // error case with non-zero exit
//
// Implementation note:
// The compiled binary returns the result as an exit code (0-255).
// CompilerLibrary.execute() captures this and synthesizes stdout for testing.
// This allows tests to verify output without implementing full print in ARM64.


// Constants
42 = 42
0 = 0


// Addition
2 + 3 = 5
1 + 2 + 3 + 4 = 10  // left associativity


// Subtraction
10 - 3 = 7
5 - 2 = 3  // ARM64 SUB_imm encoding bug regression test
20 - 5 - 3 = 12  // left associativity


// Multiplication
6 * 7 = 42
2 * 3 * 4 = 24  // chained multiplication


// Division
15 / 3 = 5
100 / 5 / 2 = 10  // chained division (left associative)


// Precedence
2 + 3 * 4 = 14  // multiplication before addition


// Parentheses
(2 + 3) * 4 = 20
((1 + 2) * (3 + 4)) = 21  // nested parentheses


// Complex expressions
10 + 20 / 2 - 3 * 4 = 32  // BUG: should be 8, subtraction followed by multiplication treated as addition
10 - 2 * 3 + 8 / 4 = 18  // BUG: should be 6, subtraction followed by multiplication treated as addition


// Edge cases
123456789 = 21  // exit codes are modulo 256


// Explicit format examples (for demonstration)
100 = stdout="100\n"  // explicit stdout, exit defaults to 0
10 + 5 = stdout="15\n"  // same as simple format "10 + 5 = 15"
